

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="es" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>OWA &mdash; documentación de Documentación de funciones y algoritmos en Python y Qgis para análsis espacial - 1.0</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="Verificación de capas" href="verificacion.html" />
    <link rel="prev" title="Índice Lee-Sallee" href="leesallee.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Documentación de funciones y algoritmos en Python y Qgis para análsis espacial
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Guias de uso:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ejecucion.html">¿Cómo ejecutar un código en Qgis?</a></li>
</ul>
<p class="caption"><span class="caption-text">Códigos:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="apcsig.html">Libreria de funciones para el análsis espacial multicriterio</a></li>
<li class="toctree-l1"><a class="reference internal" href="analisis.html">Análisis de sensibilidad</a></li>
<li class="toctree-l1"><a class="reference internal" href="leesallee.html">Índice Lee-Sallee</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">OWA</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requerimientos-generales">Requerimientos generales</a></li>
<li class="toctree-l2"><a class="reference internal" href="#requerimientos-generales-de-los-insumos">Requerimientos generales de los insumos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ejemplo">Ejemplo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#insumos">Insumos</a></li>
<li class="toctree-l3"><a class="reference internal" href="#procedimiento">Procedimiento</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#abrir-el-codigo">1. Abrir el código</a></li>
<li class="toctree-l4"><a class="reference internal" href="#actualizar-el-diccionario">2. Actualizar el diccionario</a></li>
<li class="toctree-l4"><a class="reference internal" href="#indicar-la-capa-maestra">3. Indicar la capa maestra</a></li>
<li class="toctree-l4"><a class="reference internal" href="#indicar-el-direcctorio-de-salida">4. Indicar el direcctorio de salida</a></li>
<li class="toctree-l4"><a class="reference internal" href="#los-valores-de-alpha">5. Los valores de alpha</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#bibliografia">Bibliografía</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentacion-dentro-del-codigo">Documentación dentro del código</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="verificacion.html">Verificación de capas</a></li>
<li class="toctree-l1"><a class="reference internal" href="tabulacion_3geo.html">Tabular intersección entre 3 geometrías</a></li>
<li class="toctree-l1"><a class="reference internal" href="nivel_geometrias.html">Cobertura por niveles areas</a></li>
<li class="toctree-l1"><a class="reference internal" href="usvmunicipal.html">Cobertura de uso y tipo de suelo a nivel municipal</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Documentación de funciones y algoritmos en Python y Qgis para análsis espacial</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>OWA</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/owa.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="owa">
<h1>OWA<a class="headerlink" href="#owa" title="Enlazar permanentemente con este título">¶</a></h1>
<p>OWA (Ordered Weighted Average) es un análisis de aptitud territorial basado en procedimientos de
Sistemas de Información Geográfica (SIG) y evaluación multicriterio (Malczewski, 2006).
El análisis OWA genera un amplio rango de escenarios de aptitud territorial cambiando únicamente un
parámetro lingüístico (alpha), relacionado con la rigidez en el cumplimiento de criterios preestablecidos.</p>
<p>OWA está definido por la siguiente ecuación:</p>
<div class="math notranslate nohighlight">
\[OWA=\sum_{j=1}^{n}\left (\left( \sum_{k=1}^{j}u_{k}\right )^{\alpha} - \left ( \sum_{k=1}^{j-1}u_{k}\right )^{\alpha} \right )z_{ij}\]</div>
<p>Donde:</p>
<p>j = Criterio</p>
<p>uk = Peso ordenado del criterio j</p>
<p>k= Orden asignado al peso del criterio j (renglón)</p>
<p>i = Pixel</p>
<p>z_ij = Valor ordenado del criterio j en el pixel i</p>
<p>α = Cuantificador lingüístico</p>
<p>Descargar el código de ejemplo</p>
<p><a class="reference download internal" download="" href="_downloads/05d169dc5c8ec67d6ee750a2274071e4/owa_raster.py"><code class="xref download docutils literal notranslate"><span class="pre">owa_raster.py</span></code></a>.</p>
<div class="section" id="requerimientos-generales">
<h2>Requerimientos generales<a class="headerlink" href="#requerimientos-generales" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Para asegurar la ejecución correcta del código es importante
verificar la instalación y funcionamiento de los siguientes elementos:</p>
<ul class="simple">
<li>Qgis 3.4 o superior y librerías de Osgeo4W</li>
<li>Librerías python:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Numpy</li>
<li>Pandas</li>
<li>GDAL</li>
<li>reduce</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="requerimientos-generales-de-los-insumos">
<h2>Requerimientos generales de los insumos<a class="headerlink" href="#requerimientos-generales-de-los-insumos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Es importante que todas las capas raster cumplan con las siguientes condiciones:</p>
<ul class="simple">
<li>Misma proyección cartográfica</li>
<li>Mismo tamaño de pixel</li>
<li>Misma extensión de capa</li>
<li>Mismo valor de NoData</li>
</ul>
</div>
<div class="section" id="ejemplo">
<h2>Ejemplo<a class="headerlink" href="#ejemplo" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="insumos">
<h3>Insumos<a class="headerlink" href="#insumos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Descargar los insumos para este ejemplo <a class="reference download internal" download="" href="_downloads/1f2f2f36cdbf1a9af7eff96a0c743b45/"><code class="xref download docutils literal notranslate"><span class="pre">aqui</span></code></a></p>
</div>
<div class="section" id="procedimiento">
<h3>Procedimiento<a class="headerlink" href="#procedimiento" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="section" id="abrir-el-codigo">
<h4>1. Abrir el código<a class="headerlink" href="#abrir-el-codigo" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Abrir el código <strong>owa_raster.py</strong> en Qgis 3.4 o superior,
Para resolver cualquier duda al respecto, consultar la <a class="reference external" href="https://vichdzgeo.github.io/geo_lancis/ejecucion.html">guia</a></p>
<img alt="_images/codigo1.PNG" src="_images/codigo1.PNG" />
</div>
<div class="section" id="actualizar-el-diccionario">
<h4>2. Actualizar el diccionario<a class="headerlink" href="#actualizar-el-diccionario" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Ingresar las capas raster de entrada con sus respectivos pesos
a la función mediante un diccionario. Es importante seguir la
estructura del siguiente ejemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dicc_capas</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;capa_1&#39;</span><span class="p">:{</span><span class="s1">&#39;ruta&#39;</span><span class="p">:</span><span class="s2">&quot;C:/Dropbox (LANCIS)/SIG/desarrollo/sig_papiit/entregables/exposicion/biologica/v_acuatica_yuc/fv_v_acuatica_yuc.tif&quot;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">:</span><span class="mf">0.08</span><span class="p">},</span>
        <span class="s1">&#39;capa_2&#39;</span><span class="p">:{</span><span class="s1">&#39;ruta&#39;</span><span class="p">:</span><span class="s2">&quot;C:/Dropbox (LANCIS)/SIG/desarrollo/sig_papiit/entregables/exposicion/biologica/v_costera_yuc/fv_v_costera_distancia_yuc.tif&quot;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">:</span><span class="mf">0.42</span><span class="p">},</span>
        <span class="s1">&#39;capa_3&#39;</span><span class="p">:{</span><span class="s1">&#39;ruta&#39;</span><span class="p">:</span><span class="s2">&quot;C:/Dropbox (LANCIS)/SIG/desarrollo/sig_papiit/entregables/exposicion/fisica/ancho_playa_yuc/fv_distancia_playa_yuc.tif&quot;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">:</span><span class="mf">0.065</span><span class="p">},</span>
        <span class="s1">&#39;capa_4&#39;</span><span class="p">:{</span><span class="s1">&#39;ruta&#39;</span><span class="p">:</span><span class="s2">&quot;C:/Dropbox (LANCIS)/SIG/desarrollo/sig_papiit/entregables/exposicion/fisica/elev_yuc/fv_elevacion_yuc.tif&quot;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">:</span><span class="mf">0.435</span><span class="p">},</span>
        <span class="p">}</span>
</pre></div>
</div>
<p>Donde:</p>
<ul class="simple">
<li><strong>capa_#</strong>:  Corresponde a la capa en el orden en que se agregó al diccionario,</li>
<li><strong>ruta</strong> : Corresponde a la ruta o path de la capa</li>
<li><strong>w</strong> : Corresponde al peso asociado a esa capa o criterio</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p>Para adicionar una capa, agregar el consecutivo
a la llave de la capa (en este caso capa_5).
La línea quedaría de la siguiente forma:</p>
<p class="last">“capa_5”:{“ruta”:path_tiff,”w”:#.###},
}</p>
</div>
</div>
<div class="section" id="indicar-la-capa-maestra">
<h4>3. Indicar la capa maestra<a class="headerlink" href="#indicar-la-capa-maestra" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Para generar la salida en formato tiff se requiere conocer aspectos
técnicos como número de columnas y renglones, tamaño de pixel, coordenadas
del extent, entre otros.</p>
<p>Estos datos son extraidos por el código mediante la variable <strong>path_capa_maestra</strong>,
en ella, se indica la ruta de <strong>cualquier</strong> capa raster ingresada en el diccionario del
paso #2.</p>
<p>como ejemplo se toma la ruta de la <strong>capa_1</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">path_capa_maestra</span> <span class="o">=</span> <span class="s2">&quot;C:/Dropbox (LANCIS)/SIG/desarrollo/sig_papiit/entregables/exposicion/biologica/v_acuatica_yuc/fv_v_acuatica_yuc.tif&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="indicar-el-direcctorio-de-salida">
<h4>4. Indicar el direcctorio de salida<a class="headerlink" href="#indicar-el-direcctorio-de-salida" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Indicar el directorio donde guardarán los mapas de salida.</p>
<p>por ejemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">path_salida</span> <span class="o">=</span> <span class="s2">&quot;C:/Dropbox (LANCIS)/SIG/desarrollo/sig_papiit/procesamiento/owa/&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="los-valores-de-alpha">
<h4>5. Los valores de alpha<a class="headerlink" href="#los-valores-de-alpha" title="Enlazar permanentemente con este título">¶</a></h4>
<p>El código tiene valores  predeterminados de alpha</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Para más información respecto a los valores de alpha consulte la
bibliografía</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">owa_alphas</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0001</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">10.0</span><span class="p">,</span><span class="mf">1000.0</span><span class="p">]</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">α</th>
<th class="head">Quantifier (Q)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0.0001</td>
<td>At least one</td>
</tr>
<tr class="row-odd"><td>0.1</td>
<td>At least a few a a</td>
</tr>
<tr class="row-even"><td>0.5</td>
<td>A few</td>
</tr>
<tr class="row-odd"><td>1.0</td>
<td>Half (identity)</td>
</tr>
<tr class="row-even"><td>2.0</td>
<td>Most</td>
</tr>
<tr class="row-odd"><td>10.0</td>
<td>Almost all</td>
</tr>
<tr class="row-even"><td>1000</td>
<td>All</td>
</tr>
</tbody>
</table>
<p>para cada valor en la lista, el código generará un mapa en el directorio
de salida</p>
<img alt="_images/salida.png" src="_images/salida.png" />
</div>
</div>
</div>
<div class="section" id="bibliografia">
<h2>Bibliografía<a class="headerlink" href="#bibliografia" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Malczewski, J. (2006). Ordered weighted averaging with fuzzy quantifiers:
GIS-based multicriteria evaluation for land-use suitability analysis.
International Journal of Applied Earth Observation and Geoin-formation, 8 ,270-277.</p>
</div>
<div class="section" id="documentacion-dentro-del-codigo">
<h2>Documentación dentro del código<a class="headerlink" href="#documentacion-dentro-del-codigo" title="Enlazar permanentemente con este título">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="verificacion.html" class="btn btn-neutral float-right" title="Verificación de capas" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="leesallee.html" class="btn btn-neutral float-left" title="Índice Lee-Sallee" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, LANCIS, Instituto de Ecología, UNAM

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>