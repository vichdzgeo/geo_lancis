%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,spanish]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
\edef\sphinxdqmaybe{\ifdefined\DeclareUnicodeCharacterAsOptional\string"\fi}
  \DeclareUnicodeCharacter{\sphinxdqmaybe00A0}{\nobreakspace}
  \DeclareUnicodeCharacter{\sphinxdqmaybe2500}{\sphinxunichar{2500}}
  \DeclareUnicodeCharacter{\sphinxdqmaybe2502}{\sphinxunichar{2502}}
  \DeclareUnicodeCharacter{\sphinxdqmaybe2514}{\sphinxunichar{2514}}
  \DeclareUnicodeCharacter{\sphinxdqmaybe251C}{\sphinxunichar{251C}}
  \DeclareUnicodeCharacter{\sphinxdqmaybe2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}
\usepackage{times}
\usepackage[Sonny]{fncychap}
\ChNameVar{\Large\normalfont\sffamily}
\ChTitleVar{\Large\normalfont\sffamily}
\usepackage{sphinx}

\fvset{fontsize=\small}
\usepackage{geometry}

% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}
\addto\captionsspanish{\renewcommand{\contentsname}{Guias de uso:}}

\addto\captionsspanish{\renewcommand{\figurename}{Figura }}
\makeatletter
\def\fnum@figure{\figurename\thefigure{}}
\makeatother
\addto\captionsspanish{\renewcommand{\tablename}{Tabla }}
\makeatletter
\def\fnum@table{\tablename\thetable{}}
\makeatother
\addto\captionsspanish{\renewcommand{\literalblockname}{Lista}}

\addto\captionsspanish{\renewcommand{\literalblockcontinuedname}{proviene de la página anterior}}
\addto\captionsspanish{\renewcommand{\literalblockcontinuesname}{continué en la próxima página}}
\addto\captionsspanish{\renewcommand{\sphinxnonalphabeticalgroupname}{Non-alphabetical}}
\addto\captionsspanish{\renewcommand{\sphinxsymbolsname}{Símbolos}}
\addto\captionsspanish{\renewcommand{\sphinxnumbersname}{Numbers}}

\addto\extrasspanish{\def\pageautorefname{página}}

\setcounter{tocdepth}{0}



\title{Geoprocesamiento en python y qgis Documentation}
\date{26 de agosto de 2020}
\release{1.0}
\author{Víctor Hernández}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Versión}
\makeindex
\begin{document}

\ifdefined\shorthandoff
  \ifnum\catcode`\=\string=\active\shorthandoff{=}\fi
  \ifnum\catcode`\"=\active\shorthandoff{"}\fi
\fi

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}



\chapter{¿Cómo ejecutar un código en Qgis?}
\label{\detokenize{ejecucion:como-ejecutar-un-codigo-en-qgis}}\label{\detokenize{ejecucion::doc}}

\section{Paso \#1}
\label{\detokenize{ejecucion:paso-1}}
Ejecutar Qgis Desktop 3.XX, la ventana que se muestra es la que
corresponde a la interfaz gráfica del programa, en la barra de tareas
hacer clic en el ícono correspondiente a \sphinxstylestrong{python} para abrir la consola

\noindent\sphinxincludegraphics{{qgis_interfaz}.png}


\section{paso \#2}
\label{\detokenize{ejecucion:paso-2}}
En la parte inferior de la ventana se mostrará la consola de python

\noindent\sphinxincludegraphics{{consola_pyqgis}.png}


\section{paso \#3}
\label{\detokenize{ejecucion:paso-3}}
Hacer clic en el ícono de \sphinxstylestrong{Editor}

\noindent\sphinxincludegraphics{{consola_editor}.png}


\section{paso \#4}
\label{\detokenize{ejecucion:paso-4}}
Se despliega en el lado izquierdo un panel, el cual es el editor
de código, cuenta con una barra de tareas, para abrir un script
dar clic en el ícono de \sphinxstylestrong{abrir archivo}

\noindent\sphinxincludegraphics{{consola_editor_interfaz}.png}


\section{paso \#5}
\label{\detokenize{ejecucion:paso-5}}
Se abrirá una ventana que te permite usar el explorador de archivos
para navegar y encontrar el archivo \sphinxstylestrong{.py}, elegir el script deseado y
dar clic en abrir.

\noindent\sphinxincludegraphics{{abrir_script}.PNG}


\chapter{Análisis de sensibilidad}
\label{\detokenize{analisis:analisis-de-sensibilidad}}\label{\detokenize{analisis::doc}}
Lorem ipsum dolor sit amet, consectetur adipiscing elit.
Aliquam at turpis lacus. Pellentesque vitae efficitur lacus.
Proin eu lectus ultrices mauris viverra vehicula. Proin ante justo,
ultrices eu leo ac, vulputate tristique sapien. Aenean vel enim a elit mollis commodo.
Proin laoreet quis quam quis auctor. Vestibulum nec nisl pretium, bibendum ligula in,
suscipit neque. Nunc placerat ac ipsum vel pellentesque. Phasellus lacinia cursus porttitor.
Donec viverra faucibus nisl, non vestibulum quam posuere sit amet. Nulla a sodales urna.
Donec vestibulum purus purus, iaculis pellentesque eros cursus quis. Maecenas ac maximus sem.

Descargar el código de ejemplo

\sphinxcode{\sphinxupquote{sensibilidad.py}}.


\section{Requerimientos generales}
\label{\detokenize{analisis:requerimientos-generales}}
Para asegurar la ejecución correcta del código es importante
verificar la instalación y funcionamiento de los siguientes elementos:
\begin{itemize}
\item {} 
Qgis 3.4 o superior y librerías de Osgeo4W

\item {} 
Librerías python:

\end{itemize}
\begin{itemize}
\item {} 
copy

\item {} 
pprint

\item {} 
string

\item {} 
osgeo/gdal

\item {} 
gdal\_calc

\item {} 
os

\end{itemize}


\section{Requerimientos generales de los insumos}
\label{\detokenize{analisis:requerimientos-generales-de-los-insumos}}
Es importante que todas las capas raster cumplan con las siguientes condiciones:
\begin{itemize}
\item {} 
Misma proyección cartográfica

\item {} 
Mismo tamaño de pixel

\item {} 
Misma extensión de capa

\item {} 
Mismo valor de NoData

\end{itemize}


\section{Ejemplo}
\label{\detokenize{analisis:ejemplo}}

\subsection{Insumos}
\label{\detokenize{analisis:insumos}}
Crear una (1)carpeta en el directorio raíz o en la unidad C que se llame \sphinxstylestrong{analisis\_sensibilidad},
para descargar los insumos hacer clic \sphinxcode{\sphinxupquote{aqui}} (2)guarde el archivo \sphinxstylestrong{insumos.zip}
en la carpeta \sphinxstylestrong{analisis\_sensibilidad}, posteriormente hacer clic derecho sobre el archivo  y elegir la opción (3)Extract to insumos

\noindent\sphinxincludegraphics{{crear_carpeta}.JPG}

Una vez terminado el proceso, crear en la carpeta \sphinxstylestrong{analisis\_sensibilidad} una (4)c arpeta con el nombre \sphinxstylestrong{salida}

\noindent\sphinxincludegraphics{{c_salida}.JPG}


\subsection{Procedimiento}
\label{\detokenize{analisis:procedimiento}}

\subsubsection{1. Abrir el código}
\label{\detokenize{analisis:abrir-el-codigo}}
Abrir el código \sphinxstylestrong{sensibilidad.py} en Qgis 3.4 o superior,
Para resolver cualquier duda al respecto, consultar la \sphinxhref{https://vichdzgeo.github.io/geo\_lancis/ejecucion.html}{guia}


\subsubsection{2. Actualizar el diccionario}
\label{\detokenize{analisis:actualizar-el-diccionario}}
Ingresar la (1) ponderación del compontente según corresponda (Exposición, Susceptibilidad, Resiliencia), posteriormente
ingresar la (2)ponderación del subcomponente (biológico,físico),
Ingresar el (3)nombre de la capa raster de entrada con su respectiva (4)ponderación y su (5)ruta
repita los pasos siguiendo la estructura y hasta ingresar cada una de las capas.

\noindent\sphinxincludegraphics{{diccionario}.JPG}


\subsubsection{3. Indicar el direcctorio de salida}
\label{\detokenize{analisis:indicar-el-direcctorio-de-salida}}
Indicar el directorio donde guardarán los archivos necesarios para realizar el análisis de sensibilidad
y el archivo  \sphinxstylestrong{analisis\_sensibilidad.csv} que contendrá los resultados.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{p\PYGZus{}procesamiento} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{C:/analisis\PYGZus{}sensibilidad/salida/}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}


\subsubsection{4. Ejecutar el código}
\label{\detokenize{analisis:ejecutar-el-codigo}}
hacer clic en el (1) botón de ejecutar código, puede demorar 10 minutos o más dependiendo el procesador y
memoria RAM que tenga el equipo en donde se ejecute, al concluir aparecerá en la (2) consola una lista que indica que
ha procesado cada una de las capas.

\noindent\sphinxincludegraphics{{ejecucion}.JPG}


\subsection{Bibliografía}
\label{\detokenize{analisis:bibliografia}}

\subsection{Documentación dentro del código}
\label{\detokenize{analisis:documentacion-dentro-del-codigo}}

\chapter{Índice Lee-Sallee}
\label{\detokenize{leesallee:indice-lee-sallee}}\label{\detokenize{leesallee::doc}}
Lorem ipsum dolor sit amet, consectetur adipiscing elit.
Aliquam at turpis lacus. Pellentesque vitae efficitur lacus.
Proin eu lectus ultrices mauris viverra vehicula. Proin ante justo,
ultrices eu leo ac, vulputate tristique sapien. Aenean vel enim a elit mollis commodo.
\begin{equation*}
\begin{split}lee\_sallee\_index =  \frac{A\cap B}{A\cup B}\end{split}
\end{equation*}
descarga el código de ejemplo

\sphinxcode{\sphinxupquote{indice\_lee\_sallee.py}}.


\section{Ejemplo}
\label{\detokenize{leesallee:ejemplo}}

\subsection{Insumos}
\label{\detokenize{leesallee:insumos}}
Descarga los insumos para este ejemplo \sphinxcode{\sphinxupquote{aqui}}


\subsection{Procedimiento}
\label{\detokenize{leesallee:procedimiento}}
Abre el código \sphinxstylestrong{indice\_lee\_sallee.py} en Qgis 3.4 o superior,
Si tienes dudas de como hacerlo visualiza la \sphinxhref{https://vichdzgeo.github.io/geo\_lancis/ejecucion.html}{guia}

Modifica las rutas donde se encuentran los insumos
\begin{itemize}
\item {} 
vlayer\_base es la capa vectorial que se ocupa como base

\item {} 
vlayer\_model es la capa vectorial que se ocupa como modelo

\end{itemize}

\noindent\sphinxincludegraphics{{rutas}.png}
\phantomsection\label{\detokenize{leesallee:module-indice_lee_sallee}}\index{indice\_lee\_sallee (módulo)@\spxentry{indice\_lee\_sallee}\spxextra{módulo}}\index{indice\_lee\_salee() (en el módulo indice\_lee\_sallee)@\spxentry{indice\_lee\_salee()}\spxextra{en el módulo indice\_lee\_sallee}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{leesallee:indice_lee_sallee.indice_lee_salee}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indice\_lee\_sallee.}}\sphinxbfcode{\sphinxupquote{indice\_lee\_salee}}}{\emph{vlayer\_base}, \emph{vlayer\_model}, \emph{campo\_categoria}, \emph{categoria}, \emph{id='ageb\_id'}}{}~\begin{quote}

Esta función regresa el índice Lee-Sallee
\begin{equation*}
\begin{split}lee\_sallee\_index =  \end{split}
\end{equation*}\end{quote}

rac\{Acap B\}\{Acup B\}
\begin{quote}
\begin{quote}\begin{description}
\item[{param vlayer\_base}] \leavevmode
vector base

\item[{type vlayer\_base}] \leavevmode
QgsVectorLayer

\item[{param vlayer\_model}] \leavevmode
Vector modelo

\item[{type vlayer\_model}] \leavevmode
QgsVectorLayer

\item[{param campo\_categoria}] \leavevmode
Nombre del campo que tiene las categorias

\item[{type campo\_categoria}] \leavevmode
String

\item[{param categoria}] \leavevmode
Número de categoria

\item[{type categoria}] \leavevmode
int

\item[{param id}] \leavevmode
nombre del campo identificador

\item[{type id}] \leavevmode
String

\end{description}\end{quote}
\end{quote}

\end{fulllineitems}

\index{lista\_shp() (en el módulo indice\_lee\_sallee)@\spxentry{lista\_shp()}\spxextra{en el módulo indice\_lee\_sallee}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{leesallee:indice_lee_sallee.lista_shp}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indice\_lee\_sallee.}}\sphinxbfcode{\sphinxupquote{lista\_shp}}}{\emph{path\_carpeta}}{}~\begin{quote}\begin{description}
\item[{Parámetros}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{path\_carpeta}} (\sphinxstyleliteralemphasis{\sphinxupquote{String}}) \textendash{} ruta que contiene los archivos shape a procesar

\end{description}\end{quote}

\end{fulllineitems}



\chapter{OWA}
\label{\detokenize{owa:owa}}\label{\detokenize{owa::doc}}
OWA (Ordered Weighted Average) es un análisis de aptitud territorial basado en procedimientos de
Sistemas de Información Geográfica (SIG) y evaluación multicriterio (Malczewski, 2006).
El análisis OWA genera un amplio rango de escenarios de aptitud territorial cambiando únicamente un
parámetro lingüístico (alpha), relacionado con la rigidez en el cumplimiento de criterios preestablecidos.

OWA está definido por la siguiente ecuación:
\begin{equation*}
\begin{split}OWA=\sum_{j=1}^{n}\left (\left( \sum_{k=1}^{j}u_{k}\right )^{\alpha} - \left ( \sum_{k=1}^{j-1}u_{k}\right )^{\alpha} \right )z_{ij}\end{split}
\end{equation*}
Donde:

j = Criterio

uk = Peso ordenado del criterio j

k= Orden asignado al peso del criterio j (renglón)

i = Pixel

z\_ij = Valor ordenado del criterio j en el pixel i

\(\alpha\) = Cuantificador lingüístico

Descargar el código de ejemplo

\sphinxcode{\sphinxupquote{owa\_raster.py}}.


\section{Requerimientos generales}
\label{\detokenize{owa:requerimientos-generales}}
Para asegurar la ejecución correcta del código es importante
verificar la instalación y funcionamiento de los siguientes elementos:
\begin{itemize}
\item {} 
Qgis 3.4 o superior y librerías de Osgeo4W

\item {} 
Librerías python:

\end{itemize}
\begin{itemize}
\item {} 
Numpy

\item {} 
Pandas

\item {} 
GDAL

\item {} 
reduce

\end{itemize}


\section{Requerimientos generales de los insumos}
\label{\detokenize{owa:requerimientos-generales-de-los-insumos}}
Es importante que todas las capas raster cumplan con las siguientes condiciones:
\begin{itemize}
\item {} 
Misma proyección cartográfica

\item {} 
Mismo tamaño de pixel

\item {} 
Misma extensión de capa

\item {} 
Mismo valor de NoData

\end{itemize}


\section{Ejemplo}
\label{\detokenize{owa:ejemplo}}

\subsection{Insumos}
\label{\detokenize{owa:insumos}}
Descargar los insumos para este ejemplo \sphinxcode{\sphinxupquote{aqui}}


\subsection{Procedimiento}
\label{\detokenize{owa:procedimiento}}

\subsubsection{1. Abrir el código}
\label{\detokenize{owa:abrir-el-codigo}}
Abrir el código \sphinxstylestrong{owa\_raster.py} en Qgis 3.4 o superior,
Para resolver cualquier duda al respecto, consultar la \sphinxhref{https://vichdzgeo.github.io/geo\_lancis/ejecucion.html}{guia}

\noindent\sphinxincludegraphics{{codigo}.PNG}


\subsubsection{2. Actualizar el diccionario}
\label{\detokenize{owa:actualizar-el-diccionario}}
Ingresar las capas raster de entrada con sus respectivos pesos
a la función mediante un diccionario. Es importante seguir la
estructura del siguiente ejemplo:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{dicc\PYGZus{}capas} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{capa\PYGZus{}1}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ruta}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/Dropbox (LANCIS)/SIG/desarrollo/sig\PYGZus{}papiit/entregables/exposicion/biologica/v\PYGZus{}acuatica\PYGZus{}yuc/fv\PYGZus{}v\PYGZus{}acuatica\PYGZus{}yuc.tif}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{w}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mf}{0.08}\PYG{p}{\PYGZcb{}}\PYG{p}{,}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{capa\PYGZus{}2}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ruta}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/Dropbox (LANCIS)/SIG/desarrollo/sig\PYGZus{}papiit/entregables/exposicion/biologica/v\PYGZus{}costera\PYGZus{}yuc/fv\PYGZus{}v\PYGZus{}costera\PYGZus{}distancia\PYGZus{}yuc.tif}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{w}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mf}{0.42}\PYG{p}{\PYGZcb{}}\PYG{p}{,}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{capa\PYGZus{}3}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ruta}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/Dropbox (LANCIS)/SIG/desarrollo/sig\PYGZus{}papiit/entregables/exposicion/fisica/ancho\PYGZus{}playa\PYGZus{}yuc/fv\PYGZus{}distancia\PYGZus{}playa\PYGZus{}yuc.tif}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{w}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mf}{0.065}\PYG{p}{\PYGZcb{}}\PYG{p}{,}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{capa\PYGZus{}4}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ruta}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/Dropbox (LANCIS)/SIG/desarrollo/sig\PYGZus{}papiit/entregables/exposicion/fisica/elev\PYGZus{}yuc/fv\PYGZus{}elevacion\PYGZus{}yuc.tif}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{w}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mf}{0.435}\PYG{p}{\PYGZcb{}}\PYG{p}{,}
        \PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}

Donde:
\begin{itemize}
\item {} 
\sphinxstylestrong{capa\_\#}:  Corresponde a la capa en el orden en que se agregó al diccionario,

\item {} 
\sphinxstylestrong{ruta} : Corresponde a la ruta o path de la capa

\item {} 
\sphinxstylestrong{w} : Corresponde al peso asociado a esa capa o criterio

\end{itemize}

\begin{sphinxadmonition}{note}{Nota:}
Para adicionar una capa, agregar el consecutivo
a la llave de la capa (en este caso capa\_5).
La línea quedaría de la siguiente forma:

“capa\_5”:\{“ruta”:path\_tiff,”w”:\#.\#\#\#\},
\}
\end{sphinxadmonition}


\subsubsection{3. Indicar la capa maestra}
\label{\detokenize{owa:indicar-la-capa-maestra}}
Para generar la salida en formato tiff se requiere conocer aspectos
técnicos como número de columnas y renglones, tamaño de pixel, coordenadas
del extent, entre otros.

Estos datos son extraidos por el código mediante la variable \sphinxstylestrong{path\_capa\_maestra},
en ella, se indica la ruta de \sphinxstylestrong{cualquier} capa raster ingresada en el diccionario del
paso \#2.

como ejemplo se toma la ruta de la \sphinxstylestrong{capa\_1}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{path\PYGZus{}capa\PYGZus{}maestra} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/Dropbox (LANCIS)/SIG/desarrollo/sig\PYGZus{}papiit/entregables/exposicion/biologica/v\PYGZus{}acuatica\PYGZus{}yuc/fv\PYGZus{}v\PYGZus{}acuatica\PYGZus{}yuc.tif}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}


\subsubsection{4. Indicar el direcctorio de salida}
\label{\detokenize{owa:indicar-el-direcctorio-de-salida}}
Indicar el directorio donde guardarán los mapas de salida.

por ejemplo:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{path\PYGZus{}salida} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/Dropbox (LANCIS)/SIG/desarrollo/sig\PYGZus{}papiit/procesamiento/owa/}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}


\subsubsection{5. Los valores de alpha}
\label{\detokenize{owa:los-valores-de-alpha}}
El código tiene valores  predeterminados de alpha

\begin{sphinxadmonition}{note}{Nota:}
Para más información respecto a los valores de alpha consulte la
bibliografía
\end{sphinxadmonition}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{owa\PYGZus{}alphas} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mf}{0.0001}\PYG{p}{,}\PYG{l+m+mf}{0.1}\PYG{p}{,}\PYG{l+m+mf}{0.5}\PYG{p}{,}\PYG{l+m+mf}{1.0}\PYG{p}{,}\PYG{l+m+mf}{2.0}\PYG{p}{,}\PYG{l+m+mf}{10.0}\PYG{p}{,}\PYG{l+m+mf}{1000.0}\PYG{p}{]}
\end{sphinxVerbatim}


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|}
\hline
\sphinxstyletheadfamily 
\(\alpha\)
&\sphinxstyletheadfamily 
Quantifier (Q)
\\
\hline
0.0001
&
At least one
\\
\hline
0.1
&
At least a few a a
\\
\hline
0.5
&
A few
\\
\hline
1.0
&
Half (identity)
\\
\hline
2.0
&
Most
\\
\hline
10.0
&
Almost all
\\
\hline
1000
&
All
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}

para cada valor en la lista, el código generará un mapa en el directorio
de salida

\noindent\sphinxincludegraphics{{salida}.PNG}


\section{Bibliografía}
\label{\detokenize{owa:bibliografia}}
Malczewski, J. (2006). Ordered weighted averaging with fuzzy quantifiers:
GIS-based multicriteria evaluation for land-use suitability analysis.
International Journal of Applied Earth Observation and Geoin-formation, 8 ,270-277.


\section{Documentación dentro del código}
\label{\detokenize{owa:documentacion-dentro-del-codigo}}

\chapter{Verificación de capas}
\label{\detokenize{verificacion:verificacion-de-capas}}\label{\detokenize{verificacion::doc}}
Los puntos a verificar son los siguientes:
\begin{enumerate}
\def\theenumi{\arabic{enumi}}
\def\labelenumi{\theenumi .}
\makeatletter\def\p@enumii{\p@enumi \theenumi .}\makeatother
\item {} 
Proyección Que exista el archivo prj asociado

\item {} 
Geometría completa  Que exista los mismos elementos geométricos que los contenidos en la tabla de atributos

\item {} 
Sobrelapados Que la capa no cuente con errores topológicos

\item {} 
Nulos Que no existan campos vacios en la tabla de atributos

\item {} 
Codificados Que no existan campos con caracteres espeaciales o extraños en su contenido o que datos numéricos esten declardos como texto

\item {} 
Metadatos Que exista el archivo xml asociado a los metadatos geográficos

\end{enumerate}

Descargar el código de ejemplo

\sphinxcode{\sphinxupquote{verificacion\_layers.py}}.


\section{Requerimientos generales}
\label{\detokenize{verificacion:requerimientos-generales}}

\section{Ejemplo:}
\label{\detokenize{verificacion:ejemplo}}

\subsection{1. Abrir el código}
\label{\detokenize{verificacion:abrir-el-codigo}}
Abrir el código \sphinxstylestrong{verificación\_layers.py} en Qgis 3.4 o superior,
para resolver cualquier duda al respecto, consultar la \sphinxhref{https://vichdzgeo.github.io/geo\_lancis/ejecucion.html}{guia}

\noindent\sphinxincludegraphics{{codigo1}.PNG}


\subsection{2. Indicar el directorio}
\label{\detokenize{verificacion:indicar-el-directorio}}
El código verifica todas las capas vectoriales contenidas en el directorio
indicado en la variable \sphinxstylestrong{path\_dir}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{path\PYGZus{}dir} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/Dropbox (LANCIS)/SIG/insumos/agricultura/conabio/vector/produccion\PYGZus{}miel/}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}


\subsection{Salidas}
\label{\detokenize{verificacion:salidas}}

\subsubsection{Capas de topología}
\label{\detokenize{verificacion:capas-de-topologia}}
el código crea una carpeta llamada \sphinxstylestrong{temp}, dentro de ella otra carpeta llamada \sphinxstylestrong{topologia} en esta
carpeta se guardan los 3 archivos shapefile  resultantes de la función \sphinxstylestrong{topologia}

estan nombrados de la siguiente manera:

\sphinxstylestrong{nombrecapa\_error}.shp

Capa de puntos que índica la posición en donde 2 o más poligonos no colindan adecuadamente
o que su geometría puede causar problemas en algún análisis espacial

\sphinxstylestrong{nombrecapa\_invalido}.shp

Capa de poligonos que índica geométria inválida de la capa

\sphinxstylestrong{nombrecapa\_valido}.shp

Capa de poligonos que indica la geometría válida de la capa


\subsubsection{Imagen de la capa}
\label{\detokenize{verificacion:imagen-de-la-capa}}
\begin{sphinxadmonition}{note}{Nota:}
El código genera una imagen de la capa con el mapa base de openstreetmap
sí y solo sí la capa tiene un puntaje de 10 en el criterio de \sphinxstylestrong{proyección}
\end{sphinxadmonition}


\chapter{Tabular intersección entre 3 geometrías}
\label{\detokenize{tabulacion_3geo:tabular-interseccion-entre-3-geometrias}}\label{\detokenize{tabulacion_3geo::doc}}
Calcula la intersección de 3 capas y realiza una tabulación cruzada del área

La capa A es al nivel geográfico que se reporta
La capa B es el nivel geométrico intermedio del cual se cuantifica
el área total perteneciente a la entidad A y se cuantifica el área  por clase de USV.
La capa C es la serie de uso de suelo y vegetación de INEGI


\section{Requerimientos generales}
\label{\detokenize{tabulacion_3geo:requerimientos-generales}}
Para asegurar la ejecución correcta del código es importante
verificar la instalación y funcionamiento de los siguientes elementos:
\begin{itemize}
\item {} 
Qgis 3.4 o superior

\end{itemize}

Descargar el código de ejemplo

\sphinxcode{\sphinxupquote{tabulacion\_3geo.py}}.


\section{Requerimientos generales de los insumos}
\label{\detokenize{tabulacion_3geo:requerimientos-generales-de-los-insumos}}
Es importante que todas las capas vectoriales cumplan con las siguientes condiciones:
\begin{itemize}
\item {} 
Misma proyección cartográfica

\item {} 
Sin problemas topológicos

\end{itemize}


\subsection{Entidad A}
\label{\detokenize{tabulacion_3geo:entidad-a}}\begin{itemize}
\item {} 
Que cuente con un campo que contenga un identificador único para cada geométria

\end{itemize}


\subsection{Entidad B}
\label{\detokenize{tabulacion_3geo:entidad-b}}\begin{itemize}
\item {} 
Que cuente con un campo dónde se especifiquen las categorias o clases

\end{itemize}


\subsection{Entidad C}
\label{\detokenize{tabulacion_3geo:entidad-c}}\begin{itemize}
\item {} 
Que cuente con un campo que contenga el número de clase correspondiente

\item {} 
Que el campo mencionado en el inciso anterior se llame igual para todas las series

\end{itemize}


\section{Ejemplo}
\label{\detokenize{tabulacion_3geo:ejemplo}}

\subsection{Datos de prueba}
\label{\detokenize{tabulacion_3geo:datos-de-prueba}}
Descargar los datos de prueba para este ejemplo \sphinxcode{\sphinxupquote{aqui}}


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|}
\hline
\sphinxstyletheadfamily 
insumo
&\sphinxstyletheadfamily 
Descripción
\\
\hline
muni\_2018\_utm16.shp
&
Capa de municipios del estado de Yucatán, esta capa representa la entidad A
\\
\hline
degradacion\_suelo\_yuc.shp
&
Capa de áreas de degradación del suelo clasificadas en ligero, moderado, alto y extremo, esta capa representa la entidad B
\\
\hline
usv/
&
Directorio que contiene capas de USV de las 6 series de INEGI para el estado de Yucatán, estas capas representan la entidad C
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}


\subsubsection{Abrir el código}
\label{\detokenize{tabulacion_3geo:abrir-el-codigo}}
Abrir el código \sphinxstylestrong{tabulacion\_3geo.py} en Qgis 3.4 o superior,
Para resolver cualquier duda al respecto, consultar la \sphinxhref{https://vichdzgeo.github.io/geo\_lancis/ejecucion.html}{guia}

\noindent\sphinxincludegraphics{{codigo3}.PNG}


\subsubsection{1. Indicar la ruta de los insumos}
\label{\detokenize{tabulacion_3geo:indicar-la-ruta-de-los-insumos}}
Indicar la ruta completa de los insumos según corresponda:

\begin{sphinxadmonition}{warning}{Advertencia:}
verifica que se use “/” como separadador de espacio en lugar de “'
\end{sphinxadmonition}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{path\PYGZus{}geometria\PYGZus{}a} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{C:/geo\PYGZus{}lancis/tabulacion3geo/insumos/muni\PYGZus{}2018\PYGZus{}utm16.shp}\PYG{l+s+s1}{\PYGZsq{}}
\PYG{n}{path\PYGZus{}geometria\PYGZus{}b} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/geo\PYGZus{}lancis/tabulacion3geo/insumos/degradacion\PYGZus{}suelo\PYGZus{}yuc.shp}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n}{path\PYGZus{}dir\PYGZus{}usv} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/geo\PYGZus{}lancis/tabulacion3geo/insumos/usv/}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}


\subsubsection{2. Indicar los nombres de los campos id}
\label{\detokenize{tabulacion_3geo:indicar-los-nombres-de-los-campos-id}}
Para la geometría A se declara el nombre del campo identificador o clave

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{campo\PYGZus{}id\PYGZus{}geometria\PYGZus{}a} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{cve\PYGZus{}mun}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}

\begin{sphinxadmonition}{note}{Nota:}
El nombre del campo para la geometría B se preguntará más adelante
por medio de una ventana emergente. ver paso 6
\end{sphinxadmonition}

Para la geometría C se declara el nombre del campo el cúal contiene el identificador
de clase para las series de USV

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{campo\PYGZus{}clase\PYGZus{}usv} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{id\PYGZus{}clase2}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}


\subsubsection{4. Agrega identificadores según el tipo de geometría}
\label{\detokenize{tabulacion_3geo:agrega-identificadores-segun-el-tipo-de-geometria}}
En la variable \sphinxstylestrong{clave\_capas} agragar un identificador  para cada una de las
categorias de tres caracteres.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{clave\PYGZus{}capas}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{mun}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{deg}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{usv}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\end{sphinxVerbatim}


\subsubsection{4. Indica el directorio de salida}
\label{\detokenize{tabulacion_3geo:indica-el-directorio-de-salida}}
En esta ruta se escribirá la tabla resultado de la cruza adicionalmente se  crea una carpeta llamada \sphinxstylestrong{tmp} en la cúal se almacenán
las cruzas ralizadas en el proceso.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{path\PYGZus{}salida} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/geo\PYGZus{}lancis/tabulacion3geo/}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}


\subsubsection{5. Ejecuta el script}
\label{\detokenize{tabulacion_3geo:ejecuta-el-script}}
Hacer clic en el botón de ejecutar y permanece atento a la consola.


\subsubsection{6. Ingresa el nombre del campo identificador de la geometría B}
\label{\detokenize{tabulacion_3geo:ingresa-el-nombre-del-campo-identificador-de-la-geometria-b}}
Se mostrará en la consola la siguiente instrucción:

\sphinxstyleemphasis{Ingrese el nombre del campo de las categorias a elegir en la geometría B}

enseguida del nombre de todos los campos que tiene la capa, escriba en la
ventana de texto el nombre del campo tal cual se muestra en la consola,
para este ejemplo el campo que sirve como identificador es \sphinxstylestrong{GRADO}  una vez escrito
hacer clic en \sphinxstylestrong{OK}

\noindent\sphinxincludegraphics{{campob}.PNG}


\subsubsection{7. Ingresar el número de las categorías a considerar}
\label{\detokenize{tabulacion_3geo:ingresar-el-numero-de-las-categorias-a-considerar}}
El script permite ingresar todas las categorías o solo algunas, las categorias
indicadas serán reclasificadas como binario donde 1 es que fue considerada y 0 cero que no,
posteriormente realiza una limpieza de la capa eliminando las geométrias con la categoria 0,
una vez finalizado ese proceso, realiza la cruza solo con las categorias consideredas.

Ingrese las categorias que desea considerar conforme se muestra en la consola, para
este ejemplo solo consideramos las categorias “Moderado”, “Fuerte” y “Extremo”, por lo
cual en la ventana que se muestra se escribe: 1,2,4, una vez escrito dar clic en \sphinxstylestrong{OK}

\begin{sphinxadmonition}{note}{Nota:}
puede ingresar solo una categoria escribendo por ejemplo: 1,

Puede ingresar todas las categorias escribiendo la palabra «TODAS»
\end{sphinxadmonition}

\noindent\sphinxincludegraphics{{categorias}.PNG}


\subsubsection{8.- Elegir entre área o porcentaje}
\label{\detokenize{tabulacion_3geo:elegir-entre-area-o-porcentaje}}
La cuantificación de las categorias de USV en el área de la geometría B perteneciente
a una identidad de la geometría A, puede expresarse en área (hectáreas) o en porcentaje.
para este ejemplo se elige “area”

\noindent\sphinxincludegraphics{{area}.PNG}


\chapter{Cobertura por niveles areas}
\label{\detokenize{nivel_geometrias:cobertura-por-niveles-areas}}\label{\detokenize{nivel_geometrias::doc}}
El objetivo de esta herramienta es cuantificar el área según el tipo de clase
de uso de suelo vegetación asociado a una geometría intermedia.

para comprender mejor lo anterior se expresa el siguiente caso

se quiere conocer a nivel de municipio (geometría A), el espacio designado como \sphinxstylestrong{Área Natural Protegida}
(geometria B), en dicho espacio, se requiere cuantificar el tipo de cobertura por clase
de la serie de uso de suelo y vegetación de INEGI (Geometría C).

Por lo tanto, se tendrá como resultado una capa geografica a nivel municipio que en su tabla de atributos
cuente con:
\begin{itemize}
\item {} 
Todos los campos de la capa original de municipios

\item {} 
un campo del área total (expresado en hectáreas) del espacio designado como \sphinxstylestrong{Área Natural Protegida} perteneciente al municipio,

\item {} 
campos nombrados como \sphinxstylestrong{clase\_\#} donde \sphinxstylestrong{\#} corresponde al número de clase o cobertura asociado a la capa de uso de suelo y vegetación. Estos campos pueden contener el área por clase expresada en hectáreas, o bien, el porcentaje correspondiente al área total del espacio designado como \sphinxstylestrong{Área Natural Protegida} perteneciente al municipio.

\end{itemize}


\section{Requerimientos generales}
\label{\detokenize{nivel_geometrias:requerimientos-generales}}
Para asegurar la ejecución correcta del código es importante
verificar la instalación y funcionamiento de los siguientes elementos:
\begin{itemize}
\item {} 
Qgis 3.4 o superior

\end{itemize}


\section{Requerimientos generales de los insumos}
\label{\detokenize{nivel_geometrias:requerimientos-generales-de-los-insumos}}
Es importante que todas las capas vectoriales cumplan con las siguientes condiciones:
\begin{itemize}
\item {} 
Misma proyección UTM

\item {} 
Sin problemas topólogicos

\end{itemize}


\subsection{Geometría A}
\label{\detokenize{nivel_geometrias:geometria-a}}\begin{itemize}
\item {} 
Tener un campo que contenga un identificador único para cada geometría (puede ser de tipo texto o entero)

\end{itemize}


\subsection{Geometría B}
\label{\detokenize{nivel_geometrias:geometria-b}}\begin{itemize}
\item {} 
Tener un campo que contenga las diferentes categorias o tipos de geometria (puede ser de tipo texto o entero)

\end{itemize}


\subsection{Geometría C}
\label{\detokenize{nivel_geometrias:geometria-c}}\begin{itemize}
\item {} 
Tener el siguiente tipo de nombrado
\begin{quote}

\sphinxstylestrong{usv\_serie\#\_aaa.shp}

Donde:
\begin{itemize}
\item {} 
\sphinxstylestrong{\#} representa el número de serie (1,2,3,4,5 o 6) \sphinxstylestrong{obligatorio}

\item {} 
\sphinxstylestrong{\_aaa} representa una abreviatura del lugar, para este ejemplo se ocupa  \sphinxstylestrong{\_yuc}

\end{itemize}
\end{quote}

\item {} 
Tener un campo de tipo entero que contenga las diferentes clases de cobertura empezando por 1, este campo debe estar presente en todas las capas de USV y debe llamarse de la misma forma

\end{itemize}


\section{Ejemplo}
\label{\detokenize{nivel_geometrias:ejemplo}}

\subsection{Insumos}
\label{\detokenize{nivel_geometrias:insumos}}
Descargar los insumos para este ejemplo \sphinxcode{\sphinxupquote{aqui}}


\subsubsection{1. Abrir el código}
\label{\detokenize{nivel_geometrias:abrir-el-codigo}}
Abrir el código \sphinxstylestrong{owa\_raster.py} en Qgis 3.4 o superior,
Para resolver cualquier duda al respecto, consultar la \sphinxhref{https://vichdzgeo.github.io/geo\_lancis/ejecucion.html}{guia}

\noindent\sphinxincludegraphics{{codigo2}.PNG}


\subsubsection{2. Ingresar la ruta de la geometria A}
\label{\detokenize{nivel_geometrias:ingresar-la-ruta-de-la-geometria-a}}
Se ingresa la ruta completa de la capa de \sphinxstylestrong{municipios} en la variable
\sphinxstylestrong{path\_geometria\_a}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{path\PYGZus{}geometria\PYGZus{}a} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{C:/Dropbox (LANCIS)/SIG/desarrollo/sig\PYGZus{}fomix/entregables/mun\PYGZus{}region/muni\PYGZus{}2018\PYGZus{}utm16.shp}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}


\subsubsection{3. Ingresar la ruta de la geometria B}
\label{\detokenize{nivel_geometrias:ingresar-la-ruta-de-la-geometria-b}}
Se ingresa la ruta completa de la capa de \sphinxstylestrong{Áreas Naturales Protegidas} en la variable
\sphinxstylestrong{path\_geometria\_b}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{path\PYGZus{}geometria\PYGZus{}b} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/Dropbox (LANCIS)/SIG/desarrollo/sig\PYGZus{}fomix/insumos/ambiente/sds/anps\PYGZus{}sds/anps.shp}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}


\subsubsection{4. Ingresar el directorio de las series de USV (geometría C)}
\label{\detokenize{nivel_geometrias:ingresar-el-directorio-de-las-series-de-usv-geometria-c}}
Se ingresa la ruta del directorio donde se encutran las capas
de \sphinxstylestrong{Uso de suelo y Vegetación ** en la variable
**path\_dir\_usv}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{path\PYGZus{}dir\PYGZus{}usv} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/Dropbox (LANCIS)/SIG/desarrollo/sig\PYGZus{}fomix/entregables/usv\PYGZus{}v2/}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}


\subsubsection{5. Ingresar el directorio de salida}
\label{\detokenize{nivel_geometrias:ingresar-el-directorio-de-salida}}
Se ingresa la ruta del directorio de salida de los datos en la variable
** path\_salida**

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{path\PYGZus{}salida} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{C:/Dropbox (LANCIS)/SIG/desarrollo/sig\PYGZus{}fomix/procesamiento/municipios\PYGZus{}anp/}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}

en esta carpeta estarán los resultados del script, tambien se conservan los datos
intermedios o productos de las intersecciones realizadas para la consulta de las áreas
en una subcarpeta llamada \sphinxstylestrong{tmp}


\subsubsection{6. Ingresar el nombre del campo ID de la capa A}
\label{\detokenize{nivel_geometrias:ingresar-el-nombre-del-campo-id-de-la-capa-a}}
se Ingresa el nombre del campo que contiene el identificador único
para las geometrías en la variable \sphinxstylestrong{campo\_id\_geometria\_a}, en este caso el nombre del campo  es \sphinxstylestrong{cve\_mun}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{campo\PYGZus{}id\PYGZus{}geomatria\PYGZus{}a} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{cve\PYGZus{}mun}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}


\subsubsection{7. Ingresar el nombre del campo de las categorias USV}
\label{\detokenize{nivel_geometrias:ingresar-el-nombre-del-campo-de-las-categorias-usv}}
Se ingresa el nombre del campo que contiene las categorias de USV en la
variable ** campo\_clase\_usv**

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{campo\PYGZus{}clase\PYGZus{}usv} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{id\PYGZus{}clase2}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}


\subsubsection{8. Ingresar claves de las tres geometrías}
\label{\detokenize{nivel_geometrias:ingresar-claves-de-las-tres-geometrias}}
Se declaran en una lista tres claves de las tres geometrías involucradas
en la variable \sphinxstylestrong{clave\_capas}

las claves son de tres caracteres y separadas por comas

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{clave\PYGZus{}capas}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{mun}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{anp}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{usv}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\end{sphinxVerbatim}


\section{Bibliografía}
\label{\detokenize{nivel_geometrias:bibliografia}}

\section{Documentación dentro del código}
\label{\detokenize{nivel_geometrias:documentacion-dentro-del-codigo}}

\chapter{Cobertura de uso y tipo de suelo a nivel municipal}
\label{\detokenize{usvmunicipal:cobertura-de-uso-y-tipo-de-suelo-a-nivel-municipal}}\label{\detokenize{usvmunicipal::doc}}
Objetivo:

Generar bases de datos  a nivel municipal que cuantiquen el área en hectaréas por clase
de uso de suelo y vegetación

\# Insumos
\begin{itemize}
\item {} 
Series I - VI de uso de suelo y vegetacíón INEGI

\item {} 
Municipios del estado de Yucatán (2018)

\end{itemize}

\#\# Procedimiento

Se unificarón las categorias para las seis series publicadas de la siguiente manera:
(Solo aplica para el estado de Yúcatan)

id\_clase - Categoria
1 - Agricultura de riego
2 -Agricultura de temporal
3 - Cuerpo de agua
4 - Manglar
5 - Pastizal
6 - Selva baja
7 - Selva mediana
8 - Sin vegetación
9 - Asentamiento humano
10 - Vegetación de duna costera
11 - Vegetación de petén
12 - Vegetación secundaria de selva baja
13 - Vegetación secundaria de selva mediana
14 - Vegetación secundaria de manglar
15 - Acuícola
16 - Bosque cultivado/Palmar inducido
17 - Tular
18 - Vegetación halófila hidrófila
19 - Sábana

Se genera el script \sphinxstylestrong{datos\_nivel\_municipio.py} el cual genera
realiza los siguientes pasos:
\begin{itemize}
\item {} 
Se declara \sphinxstylestrong{path\_mun} la ruta de la capa de municipios

\item {} 
se realiza un iterador (for) del 1 al 6 para procesar las 6 series de USV

\item {} 
Se declara \sphinxstylestrong{path\_usv} mediante el for la ruta de la capa usv\_serie\_i\_yuc.shp (donde i, va del 1 al 6)

\item {} 
Se declara \sphinxstylestrong{path\_mun\_usv}  mendiante el for la ruta del archivo que resultará de la intersección de municipios y USV  (agregados)

\item {} 
Se declara \sphinxstylestrong{path\_mun\_usv\_csv} mediante el for la ruta del archivo csv que contendrá las áreas (Ha) por clase por municipio

\item {} 
se declara \sphinxstylestrong{path\_mun} como la capa \sphinxstylestrong{municipios}

\item {} 
se declara \sphinxstylestrong{path\_usv} como la cap \sphinxstylestrong{usv}

\item {} 
Se crea una copia de la capa de municipio

\item {} 
Se declara \sphinxstylestrong{path\_interseccion}, mendiante el for que  es la ruta y nombre del resultado de la intersección de municipios y USV

\item {} 
Se crea una lista municipios mendiante el campo \sphinxstylestrong{cve\_mun} de la capa \sphinxstylestrong{municipios}

\item {} 
Se crea una lista de las categorias mediante el campo \sphinxstylestrong{id\_clase} de la capa \sphinxstylestrong{usv}

\item {} 
Se realiza la intersección \sphinxstylestrong{path\_mun\_usv} y \sphinxstylestrong{path\_usv} se indica la ruta y nombre de salida con \sphinxstylestrong{path\_interseccion}

\item {} 
se declara \sphinxstylestrong{path\_mun\_usv} como la capa \sphinxstylestrong{mun\_usv}

\item {} 
Se llama a la funcion \sphinxstylestrong{campos\_clases} pasando como parametros la cap  \sphinxstylestrong{mun\_usv} y la lista\_clases, esta función creará los campos en la capa vectorial

\end{itemize}

como «clase\_i» donde i es el número de id de la clase
- se declara \sphinxstylestrong{path\_interseccion} como la capa \sphinxstylestrong{consulta\_intersect}
- Se inicia la edición de la capa \sphinxstylestrong{mun\_usv}
- se realiza un iterador (for) de la lista\_clases
\begin{itemize}
\item {} 
Se inicializa la variable area = 0

\item {} \begin{description}
\item[{Se realiza un iterador (for) de la lista\_mun}] \leavevmode\begin{itemize}
\item {} 
se restablece la variable area = 0

\item {} 
se realiza un filtro mediante una consulta por municipio y por numero de clase \sphinxstylestrong{request\_mun}

\item {} 
se realiza un filtro mediante una consulta por municipio  \sphinxstylestrong{request\_mun\_o}

\item {} \begin{description}
\item[{Se realiza un iterador (for) de los elementos de la capa \sphinxstylestrong{consulta\_interect} pasando la consulta \sphinxstylestrong{request\_mun}}] \leavevmode\begin{itemize}
\item {} 
Se realiza la suma de los elmentos de la seleccion mediante la funcion geometry().area() y se va guardando en \sphinxstylestrong{area}

\end{itemize}

\end{description}

\item {} \begin{description}
\item[{Se realiza un iterdor (for) de los elementos de la capa \sphinxstylestrong{mun\_usv}  pasando la consulta \sphinxstylestrong{request\_mun}}] \leavevmode\begin{itemize}
\item {} 
Se escribe en el campo \sphinxstylestrong{clase\_i} (donde i es el id de la clase) el valor del área dividido entre 10,000 y redondeado a 2 dígitos

\end{itemize}

\end{description}

\item {} 
Se actualizan los elementos de la capa \sphinxstylestrong{mun\_usv}

\end{itemize}

\end{description}

\end{itemize}
\begin{itemize}
\item {} 
al finalizar la serie de iteradores se guardan los cambios en \sphinxstylestrong{mun\_usv}

\item {} 
Se manda a llamar a la función \sphinxstylestrong{vector\_to\_usv} donde se recibe como parametros la capa \sphinxstylestrong{mun\_usv} y la variable \sphinxstylestrong{path\_mun\_usv\_csv} que es la ruta y el nombre del archivo csv

\end{itemize}

al finalizar se obtiene
\begin{itemize}
\item {} 
6 capas vectoriales a nivel municipal, una por serie \sphinxstylestrong{mun\_usv\_si.shp} (donde i va del 1 al 6)

\item {} 
6 capas vectoriales resultado de las intersecciones \sphinxstylestrong{tp\_inters\_mun\_usv\_si.shp**(donde i va del 1 al 6), una por serie **mun\_usv\_si.shp} donde i va del 1 al 6)

\end{itemize}

se entrega como producto final
\begin{itemize}
\item {} 
6 archivos csv a nivel municipal, uno por serie \sphinxstylestrong{mun\_usv\_si.csv} (donde i va del 1 al 6) que son copia de los atributos de la capa vectorial correspondiente

\end{itemize}

ruta : SIGdesarrollosig\_fomixentregablesmunicipios\_usv


\renewcommand{\indexname}{Índice de Módulos Python}
\begin{sphinxtheindex}
\let\bigletter\sphinxstyleindexlettergroup
\bigletter{i}
\item\relax\sphinxstyleindexentry{indice\_lee\_sallee}\sphinxstyleindexpageref{leesallee:\detokenize{module-indice_lee_sallee}}
\end{sphinxtheindex}

\renewcommand{\indexname}{Índice}
\printindex
\end{document}